---
title:  "코드 에디터 UI 기획"
date:   2025-08-06
categories: 기획
tags: Robospital
---

# Robospital  코드 에디터 UI

![Visual Studio 2022의 인터페이스](\assets\images\코드 에디터 UI 기획\image.png)*Visual Studio 2022의 인터페이스*

갓 대학에 들어갔을 때, 첫 IDE로 Visual Studio 2008을 썼었다. 흰 바탕에 깔끔한 IDE 였고 대부분의 IDE가 비슷하게 복잡하긴 하지만, 처음 프로그래밍을 접하는 사람에겐 익히기 쉽지 않았다.

Robospital은 초보자들이 쉽게 프로그래밍에 입문할 수 있도록 도움을 주는 프로그램이다. 따라서 UI를 기획할 때도 IDE를 간소화 해서, 인지적 부하를 줄이려고 했다. 이 문서에서는 UI를 구성하면서 신경썼던 부분들이나, 아쉬웠던 부분에 대해 이야기 해보려고 한다. UI 구성 및 디자인은 최다영님과 함께 작업했다. 

두 가지 원칙을 가지고 UI를 구성했다. 

1. **최소한의 버튼과 기능**
2. **게임 진행과 함께 UI 해금 (점진적 학습)**

---

## 구성

Robospital의 UI 구성은 다음과 같다.

![image.png](\assets\images\코드 에디터 UI 기획\image%201.png){: .center}

1. 뒤로 가기
2. 설정
3. 코드 실행 속도 조절 다이얼
4. 컨트롤 패널
5. 요구사항/변수 탐색기
6. 제출하기
7. 코드 에디터
8. Output 출력
9. Dictionary

---

## 전체적인 분위기

문제 선택 화면이 전체적으로 밝은 분위기인 것과 대조적으로, 코딩 화면은 어둡게 하여 사용자의 몰입감을 올리려고 했다. 

## 코드 실행 속도 조절 다이얼

코드 실행 속도 조절 다이얼은 처음에 원형으로 디자인 되었다. 다이얼의 크기가 충분히 클 경우에는 다이얼의 중심을 기준으로 클릭 시작 점과 현재 마우스 위치를 계산하여 회전을 반영하는 것이 어색하지 않다. 하지만 다이얼의 크기가 작을 경우에는 마우스의 움직임과 다이얼의 회전이 직관적이지 않다.

그래서 다이얼의 모양을 다음과 같이 Semi-Circular 게이지로 수정하였다. 이 모양으로 다이얼의 회전을 좌우 직선 형태의 마우스 움직임에 적절하게 매핑할 수 있었다.

![image.png](\assets\images\코드 에디터 UI 기획\image%202.png){: .center}

## 컨트롤 패널

컨트롤 패널의 버튼은 게임을 진행하며 하나씩 늘어나도록 해서, 사용자가 각각의 버튼에 익숙해질 수 있도록 했다. StepInto (Step) 버튼은 4 번째 문제(변수 선언)부터 등장하고, StepOver (Next) 버튼은 71 번째 문제 (함수)부터 등장한다.

![image.png](\assets\images\코드 에디터 UI 기획\image%203.png){: width="400"}{: .center}

## 요구사항/변수 탐색기

변수 탐색기도 처음부터 등장하지 않고, 4 번째 문제(변수 선언)부터 등장하도록 했다.

## 제출하기

제출하기를 클릭하게 되면 코딩 화면을 전부 가리는 결과 화면이 나타나고, 사용자가 코딩 과정에 연속적으로 집중하기 어려워진다. 따라서 제출하기 버튼은 다른 버튼들과 거리를 두어, 미스 클릭을 방지하려고 했다. 

![image.png](\assets\images\코드 에디터 UI 기획\image%204.png){: .center}

## 코드 에디터

코드 에디터는 Trivial Interactive의 “[**Roslyn C# - Runtime Compiler**](https://assetstore.unity.com/packages/tools/integration/roslyn-c-runtime-compiler-142753)” 에셋을 기반으로 기능들을 추가하거나 변경하여 만들어졌다. 다음과 같은 기능들을 직접 개발하였다.

![image.png](\assets\images\코드 에디터 UI 기획\image%205.png){: .center}

1. Python 키워드 기반 문법 하이라이팅
    
    기존 에셋을 기반으로 키워드를 수정하여 제작하였다. InputField에 작성된 텍스트는 MainText에서 처리되는데, MainText의 글자는 무색으로 화면에 표시되지 않는다. 대신 하이라이팅 처리가 된 텍스트가 HighlightedText에 표현된다. 이러한 하이라이팅 처리는 InputField에 변화가 생길 때 마다 갱신된다.
    
2. 추가적인 라인 하이라이팅
    
    기존 에셋의 작성중인 라인 하이라이팅을 수정하여, 코드 실행 중에도 실행 중인 라인을 하이라이트 하거나, 함수의 return이 있을 때 돌아가는 위치를 하이라이팅 하는 기능 등을 추가하였다.
    
3. Pyflakes를 이용한 오류/에러 하이라이팅
    
    Pyflakes에서 받은 정보를 바탕으로 TextMeshPro의 Mark 태그를 활용해 오류/에러를 표시한다. 표시 처리된 텍스트는 FlakesText에서만 표시하는데, MainText처럼 텍스트는 무색으로 처리하여, HighlightedText의 배경색만 활용한다. 또한 Link 태그를 활용해 마우스를 배경 위에 올리면, 마우스를 따라다니는 작은 팝업을 띄워 오류/에러 메시지를 출력했다.
    
4. Undo, Redo
    
    Undo/Redo를 구현하기 위해 circular queue를 만들어서, 코드와 caret 포지션을 저장했다. ctrl+z, ctrl+y에 동작하도록 키를 매핑하였다.
    
5. CJK IME 합성 대응
    
    한글, 중국어, 일본어 등은 키를 누를 때 글자가 확정 되지 않고, 조합 중인 composition string이 바뀐다. 이것은 MainText에서 일어나기 때문에, 자연스럽게 표현하기 위해 HighlightedText에 표현할 필요가 있었다. 또한 composition string의 변화는 InputField의 onValueChanged에서 감지되지 않아서, 타이핑 소리를 composition string의 변화에서도 출력해야 했다.
    

코드 에디터가 작은 것은 아쉬운 점이다. 에디터가 예쁘게 나오는 대신 크기가 작아져 최대 10 줄 정도만 표시 가능하다. 대부분의 문제들이 10 줄 내외로 작성 가능하여 초반에는 큰 문제가 없다. 하지만 후반부의 도전적인 문제들은 많은 코드를 필요로 하고, 초보자들의 경우에는 어떤 코드를 작성할지 예측하기 어렵다는 점에서, 더 넓은 코드 에디터를 제공하는 것이 개선 과제로 남는다.

![image.png](\assets\images\코드 에디터 UI 기획\image%206.png){: .center}